{"ast":null,"code":"import _slicedToArray from\"/Users/wemi/Documents/GitHub/weather_app2_react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var api={key:'7beedcd716bb91a99f2dfbd7d36d07d9',base_url:'https://api.openweathermap.org/data/2.5/'};function App(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),query=_useState2[0],setQuery=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),weather=_useState4[0],setWeather=_useState4[1];var fetchData=function fetchData(e){if(e.key==='Enter'){var endpoint=\"\".concat(api.base_url,\"weather?q=\").concat(query,\"&units=metric&appid=\").concat(api.key);//console.log(endpoint);\naxios.get(endpoint).then(function(res){var data=res.data;setWeather(data);setQuery('');//console.log((data))\n});}};//Input field handler\nfunction handleChange(e){setQuery(e.target.value);}var dateBuilder=function dateBuilder(d){var date=String(new window.Date());//creates a new date object with current date and time\ndate=date.slice(3,15);var days=[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"];var day=days[d.getDay()];return\"\".concat(day,\" \").concat(date);};return/*#__PURE__*/_jsx(\"div\",{className:typeof weather.main!='undefined'?weather.main.temp>16?'app warm':'app':'app',children:/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"search-box\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"search-bar\",placeholder:\"Search...\",onChange:handleChange,onKeyPress:fetchData,value:query})}),typeof weather.main!=\"undefined\"?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"location-box\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"location\",children:[weather.name,\", \",weather.sys.country]}),/*#__PURE__*/_jsx(\"div\",{className:\"date\",children:dateBuilder(new Date())})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"weather-box\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"temp\",children:[Math.round(weather.main.temp),\"\\xB0c\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"weather\",children:weather.weather[0].main})]})]}):'']})});}export default App;","map":{"version":3,"sources":["/Users/wemi/Documents/GitHub/weather_app2_react/src/App.js"],"names":["React","useState","axios","api","key","base_url","App","query","setQuery","weather","setWeather","fetchData","e","endpoint","get","then","res","data","handleChange","target","value","dateBuilder","d","date","String","window","Date","slice","days","day","getDay","main","temp","name","sys","country","Math","round"],"mappings":"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","sourcesContent":["import React, {useState} from \"react\";\nimport axios from 'axios';\n\nconst api = {\n  key: '7beedcd716bb91a99f2dfbd7d36d07d9',\n  base_url: 'https://api.openweathermap.org/data/2.5/'\n}\n\n\nfunction App() {\n\n  const [query, setQuery] = useState('');\n  const [weather, setWeather ] = useState({});\n  \n  \n  const fetchData = (e) => {\n     if (e.key === 'Enter'){\n      const endpoint = `${api.base_url}weather?q=${query}&units=metric&appid=${api.key}`;\n      //console.log(endpoint);\n      axios.get(endpoint).then(res => { \n        const data = res.data;\n        setWeather(data);\n        setQuery('');\n        //console.log((data))\n      })\n     }  \n  }\n\n  //Input field handler\n  function handleChange(e) {\n    setQuery(e.target.value);\n  }\n\n \n\n\n  const dateBuilder = (d) => {\n    let date = String(new window.Date()); //creates a new date object with current date and time\n    date = date.slice(3,15); \n\n    let days = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n    let day = days[d.getDay()];\n\n    return `${day} ${date}`\n  }\n\n\n\n\n  return (\n    <div className={\n      ( typeof weather.main != 'undefined' ) \n      ? ((weather.main.temp > 16) \n        ? 'app warm'\n        : 'app') \n      :'app'}>\n\n      <main>\n        <div className='search-box'>\n          <input type=\"text\"\n            className='search-bar'\n            placeholder='Search...'\n            onChange={handleChange}\n            onKeyPress={fetchData}\n            value={query}\n          />\n        </div>\n        {\n        (typeof weather.main != \"undefined\") ? (\n        <div>\n        <div className='location-box'>\n          <div className='location'>{weather.name}, {weather.sys.country}</div>\n            <div className='date'>{dateBuilder(new Date())}</div>\n        </div>\n\n        <div className='weather-box'>\n          <div className='temp'> \n            {Math.round(weather.main.temp)}Â°c\n          </div>\n          \n          <div className='weather'>\n            {weather.weather[0].main}\n          </div>\n        </div>\n        </div>\n        ):('')\n        }\n        \n      </main>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}